### 1.文件信息获取
#### 第一种：点击上传 e.target.files 获取文件伪数组信息
#### 第二种： 拖拽上传 e.dataTransfer.files 获取文件信息，此时为真正的数组类型，不是伪数组

### 2.文件上传前的准备工作
#### 1.文件数量限制：不能超过 limit
#### 2.文件类型格式化：调用 normalize 函数格式化，格式化后的文件属性包括：name,size,uid(日期 + 数字编号),上传进度(progress),上传状态(status => init,pending,failure,success),文件类型(type)

### 3.开始上传文件
#### 1.添加文件上传状态属性为 pending
#### 2. customHttpRequest 等价于 request.借助 customHttpRequest 构造请求实例？并将实例加入请求实例列表
#### 3.定义请求成功、失败、上传进度钩子函数
##### 3.1.运用到函数柯理化( bind 实现)：将格式化文件信息当做第一个参数传入,请求响应信息作为第二个参数，待后面发起请求时传入。
##### 3.2.请求成功钩子函数作用:1.删除请求列表中的对应文件的请求信息 2.修改文件状态信息为 success 3.添加文件属性为请求响应 4.添加 url 属性用于后面文件预览
##### 3.3.请求失败钩子函数作用:1.删除请求列表中的对应文件的请求信息 2.修改文件状态信息为 failure
##### 3.4.请求进度钩子函数作用:1.添加文件加载进度属性
#### 4.利用 2 中的请求实例(xhr)发起请求，并带入 3 中的钩子函数

### 4.文件加载进度显示、文件预览、文件删除(组件传值)
#### 4.1 文件预览:仅能预览图片格式文件,对于其他文件格式预览效果有待改进
#### 4.2 进度显示:如果文件状态信息为 pending 则显示 进度显示组件。进度组件内部利用 watch 观察 传入的 percent 值的变化实时显示上传进度(千万不能落下 immediate:true 属性),另外利用 $nextTick 设置进度条宽度属性
#### 4.3 文件删除:子传父.父组件调用 abort() 方法停止上传并 delete 删除请求列表中对应的 请求实例

### 5.文件拖拽
#### 5.1 主要监听 dragenter,dragleave,dragover,drop.四个函数均需要阻止传播和默认行为。
#### 5.2 在 drop 函数内将拖拽的文件获取(e.dataTransfer.files),然后通过子传父将获取文件和事件发送给父组件
#### 5.3 为了增强用户体验效果，需显示用户拖拽文件时拖拽范围。通过在四个函数内借助变量控制显示样式效果
